{% load templatetag_handlebars %}
{% tplhandlebars "historic-course-data" %}
{% load staticfiles %}
<div class="historic-data-row row">
    <div class="historic-median course-data-widget col">
        <div class="d-inline-block course-data-items">
            <div class="course-data-number" title="{{median_course_grade}} Median course GPA">{{median_course_grade}}<i class="ion-stats-bars" aria-hidden="true"></i></div>
            <div class="course-data-description">Median Course GPA</div>
        </div>
    </div>
    <div class="historic-enrollment course-data-widget col">
        <div class="d-inline-block course-data-items">
            <div class="course-data-number" title="{{student_total}} students enrolled">{{student_total}}<i class="ion-ios-people" aria-hidden="true"></i></div>
            <div class="course-data-description">Currently Registered</div>
        </div>
    </div>
</div>
<div class="historic-data-row row">
    <div class="historic-failure course-data-widget col">
        <div class="d-inline-block course-data-items">
            <div class="course-data-number" title="{{failed_percent}}% of students failed this course">{{failed_percent}}%<i class="ion-ios-flag" aria-hidden="true"></i></div>
            <div class="course-data-description">Percent Failure</div>
        </div>
    </div>
    <div class="col"><span></span></div>
</div>

<div class="row">
    <div class="list col">
        <h4 id="historic_declared_majors_course" class="list-header">Declared Majors <br><small>(when taking the course)</small></h4>
        <ol class="list-unstyled" aria-labelledby="historic_declared_majors_course">
            {{#each common_majors}}
           <li><strong>{{roundPercentage percent_students}}%</strong> <span class="text-lowercase">{{major}} </span></li>
           {{/each}}
       </ol> 
       <div><a href="#" class='toggle-show'>Show more<span class="sr-only"> declared majors while taking the course</span>...</a></div>
    </div>
    <div class="list col">
        <h4 id="historic_declared_majors_graduation" class="list-header">Declared Majors<br><small>(upon graduation)</small></h4>
        <ol class="list-unstyled" aria-labelledby="historic_declared_majors_graduation">
           {{#each latest_majors}}
           <li><strong>{{roundPercentage percent_students}}%</strong> <span class="text-lowercase">{{major}} </span></li>
           {{/each}}
       </ol>
       <div><a href="#" class='toggle-show'>Show more<span class="sr-only"> declared majors upon graduation</span>...</a></div>
    </div>
</div>
<div class="row">
    <div class="list col">
        <h4 id="historic_common_courses" class="list-header">Concurrent Courses</h4>
        <ol class="list-unstyled" aria-labelledby="historic_common_courses">
            {{#each common_courses}}
           <li><strong>{{roundPercentage percent_students}}%</strong> <span>{{course}}</span></li>
           {{/each}}
       </ol>
       <div><a href="#" class='toggle-show'>Show more<span class="sr-only"> historic concurrent courses taken</span>...</a></div>
    </div>
</div>
<div class="row">
    <div class="list previous-instructors col">	
       <h4 id="previous_instructors" class="list-header">Previous Instructors for this course</h4>
       <ol class="list-unstyled" aria-labelledby="previous_instructors">
           {{#each instructors}}
            <li><a href="mailto:{{uw_email}}">{{ formatName display_name }}</a>, {{quarter}} {{year}} </li>
           {{/each}}

           {{#each past_terms}}
            {{#each instructors}}
                <li><a href="mailto:{{uwnetid}}@uw.edu"><span class="sr-only">Email </span>{{ formatName display_name }}</a>, {{../quarter}} {{../year}}</li>
            {{/each}}
           {{/each}}
       </ol>
    </div>

</div>
{% endtplhandlebars %}
